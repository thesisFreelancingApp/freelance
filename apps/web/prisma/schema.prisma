generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:root@localhost:3306/yesyes"
}

enum Role {
  user
  admin
}

enum Level {
  beginner
  intermediate
  advanced
}

enum Plan {
  Travail_principal
  Travail_secondaire
  usage_personnel
}

enum Jobs {
  Graphisme_Design
  Programmation_Tech
  Marketing_digital
  Video_Animation
  Redaction_Traduction
  Musique_Audio
  Business
  Finance
  Services_IA
  Croissance_personnelle
  Consultations
  Photographie
}

model User {
  id             String         @id @default(uuid())
  first_name     String?
  last_name      String?
  username       String         @unique
  display_name   String?
  bio            String?
  email          String         @unique
  password       String
  phone_number   String?
  profile_pic    String?
  role           Role
  is_seller      Boolean
  is_buyer       Boolean
  level          Level?
  plan           Plan?
  skills         Json?
  languages      Json?
  education      Json?
  certifications Json?
  jobs           Jobs?
  created_at     DateTime       @default(now())
  updated_at     DateTime       @updatedAt
  providerId     String?
  provider       String?
  emailVerified  Boolean
}

model CategoryHierarchy {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  level       Int
  parent_id   Int?
  parent      CategoryHierarchy?  @relation("Hierarchy", fields: [parent_id], references: [id])
  children    CategoryHierarchy[] @relation("Hierarchy")

  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@index([parent_id])
}